<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>昌维的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="昌维写字的地方">
<meta property="og:type" content="website">
<meta property="og:title" content="昌维的博客">
<meta property="og:url" content="https://blog.changwei.me/index.html">
<meta property="og:site_name" content="昌维的博客">
<meta property="og:description" content="昌维写字的地方">
<meta property="og:locale">
<meta property="article:author" content="cw1997">
<meta property="article:tag" content="昌维,changwei,cw1997,changwei1006,博客,blog,技术博客,科技博客,计算机,计算机科学与技术,通信工程,电子工程,软件工程">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="昌维的博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">昌维的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Chang Wei&#39;s blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.changwei.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-free5gc/3GPP-Release-15-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/free5gc/3GPP-Release-15-note/" class="article-date">
  <time class="dt-published" datetime="2021-09-21T05:02:14.000Z" itemprop="datePublished">2021-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/telecommunication-network/">telecommunication network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/free5gc/3GPP-Release-15-note/">3GPP Release-15 閱讀筆記</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="3GPP-Release-15-閱讀筆記"><a href="#3GPP-Release-15-閱讀筆記" class="headerlink" title="3GPP Release-15 閱讀筆記"></a>3GPP Release-15 閱讀筆記</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.changwei.me/free5gc/3GPP-Release-15-note/" data-id="cktt4ysl6000592n1dy327yg6" data-title="3GPP Release-15 閱讀筆記" class="article-share-link">Teilen</a>
      
        <a href="https://blog.changwei.me/free5gc/3GPP-Release-15-note/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/3GPP/" rel="tag">3GPP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G/" rel="tag">5G</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Release15/" rel="tag">Release15</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-free5gc/3GPP-Introduction" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/free5gc/3GPP-Introduction/" class="article-date">
  <time class="dt-published" datetime="2021-09-21T02:33:42.000Z" itemprop="datePublished">2021-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/telecommunication-network/">telecommunication network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/free5gc/3GPP-Introduction/">3GPP 與 3GPP 規格介紹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="3GPP-與-3GPP-規格介紹"><a href="#3GPP-與-3GPP-規格介紹" class="headerlink" title="3GPP 與 3GPP 規格介紹"></a>3GPP 與 3GPP 規格介紹</h1><h2 id="3GPP-簡介"><a href="#3GPP-簡介" class="headerlink" title="3GPP 簡介"></a>3GPP 簡介</h2><p>參考 <a target="_blank" rel="noopener" href="https://www.3gpp.org/about-3gpp/about-3gpp">https://www.3gpp.org/about-3gpp/about-3gpp</a></p>
<p>3GPP 總共有三種技術標準化組織 <a target="_blank" rel="noopener" href="https://www.3gpp.org/specifications-groups">Technical Specification Groups</a> (TSG) ，包括：</p>
<ul>
<li>Radio Access Networks (<a target="_blank" rel="noopener" href="https://www.3gpp.org/RAN">RAN</a>)</li>
<li>Services &amp; Systems Aspects (<a target="_blank" rel="noopener" href="https://www.3gpp.org/SA">SA</a>)</li>
<li>Core Network &amp; Terminals (<a target="_blank" rel="noopener" href="https://www.3gpp.org/rubrique34">CT</a>) </li>
</ul>
<p><img src="./3GPP-Introduction/2021_new-Organigram_3gpp.jpg" alt="2021 3gpp Organigram"></p>
<p>3GPP 組織主要負責制定以上 3 個部分的電信網路標準</p>
<h2 id="3GPP-標準"><a href="#3GPP-標準" class="headerlink" title="3GPP 標準"></a>3GPP 標準</h2><h3 id="為何需要技術標準？"><a href="#為何需要技術標準？" class="headerlink" title="為何需要技術標準？"></a>為何需要技術標準？</h3><p>電信網路中設備數量和種類眾多，只有當制定了了標準之後，各個電信網路設備製造商才可以按照標準各自生產網路設備，然後可以依照標準中定義的接口互相連通，之後便可以共同協作運行。這裡的設備不僅僅包含電信網路局端設備（運營商），也包括用戶端設備（UE，User Equipment），例如手機，IoT 設備等</p>
<p>標準不同的情況下，各家製造商生產的設備無法互相連通。便無法實現網路互通。因此標準定義十分重要</p>
<h3 id="3GPP-Release-規格介紹"><a href="#3GPP-Release-規格介紹" class="headerlink" title="3GPP Release 規格介紹"></a>3GPP Release 規格介紹</h3><p>參考 <a target="_blank" rel="noopener" href="https://www.3gpp.org/releases">https://www.3gpp.org/releases</a></p>
<p>3GPP 使用名為 “Releases” 的命名方式，定期將一部分技術特性整理在某個指定版本中，並且允許在之後的版本中繼續增加新功能</p>
<p>例如  <a target="_blank" rel="noopener" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3179">TR 21.914</a> covers Rel-14, <a target="_blank" rel="noopener" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3389">TR 21.915</a> for Rel-15 and now <a target="_blank" rel="noopener" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3493">TR 21.916</a> as the Rel-16 description document. 可以看出規律，TR.219xx，其中 xx 對應 Release-xx 中的 xx 部分</p>
<p>如下圖所示，這是最近的 Release 發佈時間表（寫稿時間為：2021-09-21）</p>
<p><img src="./3GPP-Introduction/Release_timeline_R16_R17.jpg" alt="Release timeline R16 R17"></p>
<p>在 <a target="_blank" rel="noopener" href="https://portal.3gpp.org/#/55934-releases">https://portal.3gpp.org/#/55934-releases</a> 可以查看所有 Release 標準的進度</p>
<h3 id="規格的-stage"><a href="#規格的-stage" class="headerlink" title="規格的 stage"></a>規格的 stage</h3><p>The term “Stage” derives from the ITU-T (originally CCITT) method for categorizing specifications (<a href="https://"http/www.itu.int/rec/T-REC-I.130/en/%22">Recommendation I.130</a>).</p>
<p>stage 是來自 ITU-T（最初是 CCITT）組織在 I.130 標準建議書中提出的一種標準分類方法</p>
<ul>
<li>“Stage 1” refers to the service description from a service-user’s point of view.<ul>
<li>stage 1 指的是從服務用戶的視角描述服務</li>
</ul>
</li>
<li>“Stage 2” is a logical analysis, devising an abstract architecture of functional elements and the information flows amongst them across reference points between functional entities.<ul>
<li>stage 2 是邏輯分析與功能設計元素的抽象架構，以及功能實體之間的信息流參考點（此處描述比較抽象，需要藉助一個具體的標準文件進行解釋）</li>
</ul>
</li>
<li>“Stage 3” is the concrete implementation of the functionality and of the protocols appearing at physical interfaces between physical elements onto which the functional elements have been mapped.<ul>
<li>stage 3 是功能和協定的具體實現，這些實現體在對應功能元件（一些物理元件）之間的物理通訊接口上</li>
</ul>
</li>
</ul>
<p>The mechanisms for creating and maintaining specifications are described in <a target="_blank" rel="noopener" href="https://www.3gpp.org/DynaReport/21900.htm">TR 21.900</a>. A presentation outlining the release and change request process can be found <a target="_blank" rel="noopener" href="https://www.3gpp.org/FTP/Inbox/2008_web_files/The_change_control_cycle.ppt">here.</a></p>
<p>在 TR 21.900 中描述了這些規範的創建和維護機制</p>
<h3 id="規格的命名"><a href="#規格的命名" class="headerlink" title="規格的命名"></a>規格的命名</h3><p><a target="_blank" rel="noopener" href="https://www.3gpp.org/specifications/specification-numbering">https://www.3gpp.org/specifications/specification-numbering</a></p>
<p>所有 3GPP 規格都有一個由 4 到 5 位數字的規格名稱（例如 09.02 或者 29.002）</p>
<p>前 2 位數字定義規格所屬的系列，後面緊跟著 01 至 13 系列對應的 2 個數字，或者 21 至 55 系列的 3 位數字</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.changwei.me/free5gc/3GPP-Introduction/" data-id="cktt4ysl2000292n1c5gh8gjo" data-title="3GPP 與 3GPP 規格介紹" class="article-share-link">Teilen</a>
      
        <a href="https://blog.changwei.me/free5gc/3GPP-Introduction/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/3GPP/" rel="tag">3GPP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Specification/" rel="tag">Specification</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-free5gc/AMF-v3.0.5" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/free5gc/AMF-v3.0.5/" class="article-date">
  <time class="dt-published" datetime="2021-08-29T11:00:01.000Z" itemprop="datePublished">2021-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/telecommunication-network/">telecommunication network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/free5gc/AMF-v3.0.5/">Tracing Source Code of AMF of Free5GC</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="AMF-v3-0-5"><a href="#AMF-v3-0-5" class="headerlink" title="AMF v3.0.5"></a>AMF v3.0.5</h1><h2 id="Call-Flow"><a href="#Call-Flow" class="headerlink" title="Call Flow"></a>Call Flow</h2><ul>
<li>main.go<ul>
<li>基於urfave/cli作為CLI程式的參數處理工具</li>
<li>基於sirupsen/logrus為日誌系統</li>
<li>設定app名稱，參數使用方法usage的顯示，參數flag的獲取，參數動作的routing</li>
<li>判斷app運行後是否出錯，若有錯誤直接退出並且打日誌</li>
<li>將action掛載到app cli程式上，action是程式的主體邏輯與動作<ul>
<li>執行AMF.Initialize，若有錯誤則打日誌<ul>
<li>執行factory.InitConfigFactory(amfcfg)讀取amfcfg文件中的配置信息（根據是否傳入amfcfg這個flag決定從何處讀取配置文件）</li>
<li>根據配置文件中的log level，對logrus進行正確的log level設定</li>
<li>檢測配置版本是否為AMF_EXPECTED_CONFIG_VERSION（在v3.0.5中該值為1.0.2），若不匹配則throw err</li>
</ul>
</li>
<li>執行AMF.Start開始運行<ul>
<li>使用logger_util.NewGinWithLogrus創建了一個基於Gin和Logrus的REST HTTP API Server Middleware（背景知識：Gin為golang語言中的高性能HTTP REST API Server框架，Logrus為golang語言中的日誌框架，Middleware將會攔截每個請求，並在請求處理的之前（pre）和之後（post）執行相關動作）<ul>
<li>這裡實際將如下訊息打印到日誌中<ul>
<li>path</li>
<li>query body</li>
<li>client ip</li>
<li>request method</li>
<li>response status</li>
<li>error message</li>
</ul>
</li>
</ul>
</li>
<li>使用router.Use(cors.New(cors.Config{}))創建middleware，用於支援CORS請求（Cross-origin resource sharing），CORS是在傳統瀏覽器環境下需要為“同源策略”放行的規則，為了相容類似於Web Console等需要使用Web Browser訪問某些free5gc中的HTTP API的場景，因此需要設定該CORS規則。</li>
<li>將httpcallback的router註冊到URL為<code>/namf-callback/v1</code>的分組上（部分細節待確認）</li>
<li>將oam的router註冊到URL為<code>/namf-oam/v1</code>的分組上（部分細節待確認）<ul>
<li>TODO and future work<ul>
<li>此處有coding style問題，例如文件名未統一為route或者routes</li>
<li>此處有專案目錄結構問題，例如未把service層和controller層規劃在一個專門的package下，導致專案package結構不夠清晰明確（通常在Java Web等專案中都會有統一的controller，service，modle等分層架構）</li>
</ul>
</li>
</ul>
</li>
<li>從AMF配置文件的AmfConfig.Configuration.ServiceNameList部分讀取服務名稱列表，並且將對應的router註冊到對應的URL<ul>
<li>其Configuration Temple File中(/config/amfcfg.yaml)包含如下配置<pre class="line-numbers language-none"><code class="language-none">serviceNameList: # the SBI services provided by this AMF, refer to TS 29.518
    - namf-comm # Namf_Communication service
    - namf-evts # Namf_EventExposure service
    - namf-mt   # Namf_MT service
    - namf-loc  # Namf_Location service
    - namf-oam  # OAM service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
<li>其程式碼中只包含如下服務的註冊流程<ul>
<li>ServiceName_NAMF_COMM</li>
<li>ServiceName_NAMF_EVTS</li>
<li>ServiceName_NAMF_MT</li>
<li>ServiceName_NAMF_LOC</li>
</ul>
</li>
<li><code>self := context.AMF_Self()</code> 將 /amf/context/context.go@struct context賦值給self並且調用 /amf/util/init_context@InitAmfContext<ul>
<li>該流程中主要是讀取配置文件並且將配置信息注入struct context中，對不合法的配置項設定缺省值（default value）</li>
<li>context 包含 NFs/amf/context/context.go@struct AMFContext和一些methods</li>
</ul>
</li>
<li><code>addr := fmt.Sprintf(&quot;%s:%d&quot;, self.BindingIPv4, self.SBIPort)</code> 組裝IPv4和port為inet addr格式的字符串</li>
<li>在NgapIpList配置和38412端口運行ngap服務<ul>
<li>該服務包含的handler<ul>
<li>ngap.Dispatch</li>
<li>ngap.HandleSCTPNotification</li>
</ul>
</li>
</ul>
</li>
<li>將本服務即AMF註冊至NRF (Register to NRF)<ul>
<li>調用 /consumer/BuildNFInstance() 構建 AMF 需要在 NRF 中註冊的資料結構(一個 type為 NfProfile 的 model 對象)</li>
<li>註冊 NF 後獲取 nfId 並且寫入當前 context 中</li>
</ul>
</li>
<li>偵聽 os signal，當signal 為 interrupt 時執行 amf.Terminate() 並且退出進程，返回 0 號錯誤碼給 OS<ul>
<li><p>amf.Terminate()</p>
<ul>
<li><pre><code>  TODO: forward registered UE contexts to target AMF in the same AMF set if there is one
</code></pre>
<p>  根據此項 TODO 看，未來工作中將要引入自動 AMF 遷移機制，當一個 AMF 停機後，需要遷移連接至該 AMF 的所有 UE 到其他 AMF 上，實現自動故障轉移和負載均衡</p>
</li>
<li><p>執行 SendDeregisterNFInstance 流程，從 NF 中移除當前實例</p>
</li>
<li><p>執行 BuildUnavailableGUAMIList 流程(暫不清楚該流程的作用和內容)</p>
</li>
<li><p>執行 ngap_message.SendAMFStatusIndication(ran, unavailableGuamiList) 動作</p>
</li>
<li><p>停止 ngap_service 服務</p>
</li>
<li><p> 向其他subscription 宣告自己將要停止服務</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>factory<ul>
<li>config.go<ul>
<li>配置struct的聲明和default value的getter（當某些配置不存在時會自動返回默認值）</li>
</ul>
</li>
<li>factory.go<ul>
<li>InitConfigFactory讀取文件，並使用yaml.Unmarshal將配置信息解析到AmfConfig變數中</li>
<li>TODO：需要支援從API中更新配置（我個人猜測可能是未來工作中需要做一個配置中心，因為微服務環境下通常都有配置中心集中管理配置一些需要統一設定的配置，而非每個微服務自己攜帶一些重複性的配置文件，至於非重複性的配置，根據我的工作經驗，通常使用.env環境變量的方式進行管理）</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.changwei.me/free5gc/AMF-v3.0.5/" data-id="cktt4ysl7000692n171er2wt5" data-title="Tracing Source Code of AMF of Free5GC" class="article-share-link">Teilen</a>
      
        <a href="https://blog.changwei.me/free5gc/AMF-v3.0.5/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G/" rel="tag">5G</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5GC/" rel="tag">5GC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G%E6%A0%B8%E5%BF%83%E7%B6%B2/" rel="tag">5G核心網</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G%E6%A0%B8%E5%BF%83%E7%BD%91/" rel="tag">5G核心网</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AMF/" rel="tag">AMF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Code-Tracing/" rel="tag">Code Tracing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Free5GC/" rel="tag">Free5GC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%91%E6%A0%B8%E5%BF%83%E7%BD%91/" rel="tag">云核心网</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-free5gc/Free5GC-Code-Tracing" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/free5gc/Free5GC-Code-Tracing/" class="article-date">
  <time class="dt-published" datetime="2021-08-29T11:00:00.000Z" itemprop="datePublished">2021-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/telecommunication-network/">telecommunication network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/free5gc/Free5GC-Code-Tracing/">Free5GC Code Tracing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Free5GC-Code-Tracing"><a href="#Free5GC-Code-Tracing" class="headerlink" title="Free5GC Code Tracing"></a>Free5GC Code Tracing</h1><p>the code tracing below is based the project in GitHub which repo URI is <a target="_blank" rel="noopener" href="https://github.com/free5gc/free5gc">free5gc/free5gc</a> and <strong>version is <a target="_blank" rel="noopener" href="https://github.com/free5gc/free5gc/releases/tag/v3.0.5">v3.0.5</a></strong><br>you can fetch <strong>all source code</strong> which version is <code>v3.0.5</code> by these command<br><code>git clone --recursive -b v3.0.5 -j `nproc` https://github.com/free5gc/free5gc.git</code></p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="What-is-free5GC"><a href="#What-is-free5GC" class="headerlink" title="What is free5GC?"></a>What is free5GC?</h3><p>The free5GC is an open-source project for 5th generation (5G) mobile core networks. The ultimate goal of this project is to implement the 5G core network (5GC) defined in 3GPP Release 15 (R15) and beyond.</p>
<p>Currently, the major contributors are with National Chiao Tung University (NCTU). Please refer to our roadmap for the features of each release.</p>
<p>refer to <a target="_blank" rel="noopener" href="https://github.com/free5gc/free5gc#readme">https://github.com/free5gc/free5gc#readme</a></p>
<h2 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h2><ul>
<li>Golang 1.15.x</li>
<li>Ubuntu Server 20.04 LTS</li>
</ul>
<h2 id="Future-Work"><a href="#Future-Work" class="headerlink" title="Future Work"></a>Future Work</h2><ul>
<li>unified the <strong>identity(variable) naming rule</strong><ul>
<li>for searching optimize by IDE(code editor) and coding reformat</li>
</ul>
</li>
<li>optimize the coding style by theory based <strong>software design pattern</strong> including these methods:<ul>
<li>extract some codes from a big function to some small functions. <ul>
<li>Why we need do this? <ul>
<li>Because many IDEs and code editors like Goland, VSCode, Eclipse have a panel names “Structure”, the UI screenshot is at below:<ul>
<li><img src="goland_structure_panel_screenshot.png"></li>
</ul>
</li>
<li>We can easily watch all functions in the panel, so we can quickly understand what functions are included in the code and its role or duty in the Network Function(NF) by the function name, but not only a Start() function(We can’t quickly understand what actions are done in the Start() function unless tracing every code line in this function)</li>
<li>We can easily test many small functions by automatic unit test framework like <a target="_blank" rel="noopener" href="https://books.studygolang.com/The-Golang-Standard-Library-by-Example/chapter09/09.1.html">gotest</a>, so we could develop new features and refoactor old codes efficienly.</li>
</ul>
</li>
</ul>
</li>
<li>move the hard-code and magic number to the configuration or constant with description comment</li>
</ul>
</li>
<li>refactor the <strong>directory structure</strong><ul>
<li>We can quickly understand the role of files, and locate the bugs quickly </li>
</ul>
</li>
<li>optimize the <strong>performance</strong><ul>
<li>TODO</li>
</ul>
</li>
<li>add <strong>some comment</strong> for coding analysis friendly<ul>
<li> we can generate the application documentation by <a target="_blank" rel="noopener" href="https://golang.org/doc/"><code>go doc</code></a> and API documentation by <code>swagger</code>, and we can easily test the HTTP RESTful API in the <a target="_blank" rel="noopener" href="https://swagger.io/tools/swagger-ui/">swagger-ui</a></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.changwei.me/free5gc/Free5GC-Code-Tracing/" data-id="cktt4ysl8000792n111lt55vg" data-title="Free5GC Code Tracing" class="article-share-link">Teilen</a>
      
        <a href="https://blog.changwei.me/free5gc/Free5GC-Code-Tracing/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G/" rel="tag">5G</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5GC/" rel="tag">5GC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G%E6%A0%B8%E5%BF%83%E7%B6%B2/" rel="tag">5G核心網</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/5G%E6%A0%B8%E5%BF%83%E7%BD%91/" rel="tag">5G核心网</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Code-Tracing/" rel="tag">Code Tracing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Free5GC/" rel="tag">Free5GC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%91%E6%A0%B8%E5%BF%83%E7%BD%91/" rel="tag">云核心网</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-about" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/about/" class="article-date">
  <time class="dt-published" datetime="2021-08-08T08:07:05.000Z" itemprop="datePublished">2021-08-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/telecommunication-network/">telecommunication network</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/about/">关于我</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.changwei.me/about/" data-id="cktt4ysl0000192n1bqxx8jwc" data-title="关于我" class="article-share-link">Teilen</a>
      
        <a href="https://blog.changwei.me/about/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/about/" rel="tag">about</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/telecommunication-network/">telecommunication network</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/3GPP/" rel="tag">3GPP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/5G/" rel="tag">5G</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/5GC/" rel="tag">5GC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/5G%E6%A0%B8%E5%BF%83%E7%B6%B2/" rel="tag">5G核心網</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/5G%E6%A0%B8%E5%BF%83%E7%BD%91/" rel="tag">5G核心网</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AMF/" rel="tag">AMF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code-Tracing/" rel="tag">Code Tracing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Free5GC/" rel="tag">Free5GC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Release15/" rel="tag">Release15</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Specification/" rel="tag">Specification</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/about/" rel="tag">about</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E6%A0%B8%E5%BF%83%E7%BD%91/" rel="tag">云核心网</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/3GPP/" style="font-size: 15px;">3GPP</a> <a href="/tags/5G/" style="font-size: 20px;">5G</a> <a href="/tags/5GC/" style="font-size: 15px;">5GC</a> <a href="/tags/5G%E6%A0%B8%E5%BF%83%E7%B6%B2/" style="font-size: 15px;">5G核心網</a> <a href="/tags/5G%E6%A0%B8%E5%BF%83%E7%BD%91/" style="font-size: 15px;">5G核心网</a> <a href="/tags/AMF/" style="font-size: 10px;">AMF</a> <a href="/tags/Code-Tracing/" style="font-size: 15px;">Code Tracing</a> <a href="/tags/Free5GC/" style="font-size: 15px;">Free5GC</a> <a href="/tags/Release15/" style="font-size: 10px;">Release15</a> <a href="/tags/Specification/" style="font-size: 10px;">Specification</a> <a href="/tags/about/" style="font-size: 10px;">about</a> <a href="/tags/%E4%BA%91%E6%A0%B8%E5%BF%83%E7%BD%91/" style="font-size: 15px;">云核心网</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/free5gc/3GPP-Release-15-note/">3GPP Release-15 閱讀筆記</a>
          </li>
        
          <li>
            <a href="/free5gc/3GPP-Introduction/">3GPP 與 3GPP 規格介紹</a>
          </li>
        
          <li>
            <a href="/free5gc/AMF-v3.0.5/">Tracing Source Code of AMF of Free5GC</a>
          </li>
        
          <li>
            <a href="/free5gc/Free5GC-Code-Tracing/">Free5GC Code Tracing</a>
          </li>
        
          <li>
            <a href="/about/">关于我</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 cw1997<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'changwei';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>